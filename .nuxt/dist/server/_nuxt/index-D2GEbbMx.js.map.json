{"file":"index-D2GEbbMx.js","mappings":";;;;;;;;;;;;;;;;;;AA6FA,UAAM,QAAQ,IAAI,EAAE;AACpB,UAAM,UAAU,IAAI,EAAE;AA4CtB,UAAM,WAAW,SAAS,MAAM;AAC9B,UAAI,CAAC,MAAM,MAAO,QAAO,QAAQ;AACjC,YAAM,IAAI,MAAM,MAAM,YAAW;AACjC,aAAO,QAAQ,MAAM,OAAO,CAAC,MAAM;AACjC,cAAM,cAAc,EAAE,SAAS,IAAI,YAAW,EAAG,SAAS,CAAC;AAC3D,cAAM,gBAAgB,EAAE,WAAW,IAAI,YAAW,EAAG,SAAS,CAAC;AAC/D,eAAO,cAAc;AAAA,MACvB,CAAC;AAAA,IACH,CAAC;;;AAjJM,YAAA,OAAAA,eAAAC,WAAA,EAAA,OAAM,8EAA0E,MAAA,CAAA,CAAA,GAAA;;2pBAmBlE,MAAA,KAAK,CAAA,mPAAA;AAQT,UAAA,QAAA,MAAQ,WAAM,GAAA;;;;AAYTC,sBAAA,SAAA,QAAL,MAAC;;YACP,KAAK,EAAE;AAAA,YACP,IAAE,WAAa,EAAE,IAAI;AAAA,YACtB,OAAM;AAAA;6BAJR,CA+BW,GAAAC,QAAAC,UAAA,aAAA;;8IAtBJ,OAAK,EAAE,UAAU,kBACjB,OAAK,EAAE,KAAK,2PAMVC,eAAA,EAAE,MAAM,8JAMyFA,eAAA,EAAE,KAAK,kFAC5CA,eAAA,EAAE,OAAO,2LAIMA,eAAA,EAAE,QAAQ;;;kBApB5FC,YAWM,OAAA,EAXD,OAAM,4EAA2E,GAAA;AAAA,oBACpFA,YAKE,OAAA;AAAA,sBAJC,KAAK,EAAE;AAAA,sBACP,KAAK,EAAE;AAAA,sBACR,OAAM;AAAA,sBACL,SAAO,OAAK,EAAE,OAAO,MAAG;AAAA;oBAG3BA,YAEM,OAAA,EAFD,OAAM,oIAAmI,mBACzI,EAAE,MAAM,IAAG,QAChB,CAAA;AAAA;kBAIFA,YASM,OAAA,EATD,OAAM,MAAK,GAAA;AAAA,oBACdA,YAAqH,QAAjH,OAAM,yFAAwF,GAAAC,gBAAI,EAAE,KAAK,GAAA,CAAA;AAAA,oBAC7GD,YAAiF,OAA9E,OAAM,qDAAoD,GAAAC,gBAAI,EAAE,OAAO,GAAA,CAAA;AAAA,oBAG1ED,YAGM,OAAA,EAHD,OAAM,uEAAsE,GAAA;AAAA,sBAC/EA,YAAkG,UAA5F,OAAM,+DAA8D,GAAAC,gBAAI,EAAE,QAAQ,GAAA,CAAA;AAAA,sBACxFD,YAA2F,QAAA,EAArF,OAAM,uEAAsE,GAAC,GAAC;AAAA;;;;;;;;;;AAOjF,UAAA,QAAA,MAAQ,SAAM,KAAQ,SAAA,MAAS,WAAM,GAAA;qZAIoB,MAAA,KAAK,CAAA,2CAAA;AAAA;;;AAI9D,UAAA,QAAA,MAAQ,SAAM,GAAA;+EACZD,eAAA,SAAA,MAAS,MAAM,QAAUA,eAAA,QAAA,MAAQ,MAAM;;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderList","_push","_parent","_ssrInterpolate","_createVNode","_toDisplayString"],"sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n    <NavBar />\r\n    \r\n    <!-- Hero Section -->\r\n    <section class=\"bg-gradient-to-r from-blue-600 to-indigo-600 py-16 px-4 md:py-20\">\r\n      <div class=\"max-w-5xl mx-auto\">\r\n        <h1 class=\"text-4xl md:text-5xl font-bold text-white mb-3\">Movie Reviews</h1>\r\n        <p class=\"text-blue-100 text-lg\">Discover thoughtful critiques of cinema's finest</p>\r\n      </div>\r\n    </section>\r\n\r\n    <main class=\"max-w-5xl mx-auto px-4 py-12\">\r\n      <!-- Search Bar -->\r\n      <div class=\"mb-12\">\r\n        <div class=\"relative\">\r\n          <svg class=\"absolute left-4 top-3.5 h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\r\n          </svg>\r\n          <input \r\n            v-model=\"query\" \r\n            placeholder=\"Search reviews by title or description...\" \r\n            class=\"w-full pl-12 pr-4 py-3 bg-white border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Loading State -->\r\n      <div v-if=\"reviews.length === 0\" class=\"text-center py-20\">\r\n        <div class=\"inline-block\">\r\n          <svg class=\"h-16 w-16 text-blue-400 mb-4 animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"></path>\r\n          </svg>\r\n          <p class=\"text-gray-300 text-lg font-medium\">Loading reviews...</p>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Reviews Grid -->\r\n      <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-7\">\r\n        <NuxtLink \r\n          v-for=\"r in filtered\" \r\n          :key=\"r.slug\" \r\n          :to=\"`/review/${r.slug}`\" \r\n          class=\"group bg-white rounded-xl shadow-lg hover:shadow-2xl hover:-translate-y-2 transition duration-300 overflow-hidden cursor-pointer\"\r\n        >\r\n          <!-- Image Container -->\r\n          <div class=\"relative h-52 overflow-hidden bg-gradient-to-br from-gray-300 to-gray-400\">\r\n            <img \r\n              :src=\"r.coverImage\" \r\n              :alt=\"r.title\" \r\n              class=\"w-full h-full object-cover group-hover:scale-110 transition duration-300\"\r\n              @error=\"e => e.target.src = 'https://via.placeholder.com/400x300?text=No+Image'\"\r\n            />\r\n            <!-- Rating Badge -->\r\n            <div class=\"absolute top-4 right-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-3 py-2 rounded-full text-sm font-bold shadow-lg\">\r\n              {{ r.rating }}/10\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Content -->\r\n          <div class=\"p-6\">\r\n            <h2 class=\"text-xl font-bold text-gray-900 group-hover:text-blue-600 transition mb-2 line-clamp-2\">{{ r.title }}</h2>\r\n            <p class=\"text-gray-600 text-sm leading-relaxed line-clamp-3\">{{ r.summary }}</p>\r\n            \r\n            <!-- Footer -->\r\n            <div class=\"mt-5 pt-5 border-t border-gray-200 flex items-center justify-between\">\r\n              <span class=\"text-xs font-semibold text-blue-600 uppercase tracking-wider\">{{ r.category }}</span>\r\n              <span class=\"text-blue-600 font-bold text-sm group-hover:translate-x-1 transition\">â†’</span>\r\n            </div>\r\n          </div>\r\n        </NuxtLink>\r\n      </div>\r\n\r\n      <!-- No Results -->\r\n      <div v-if=\"reviews.length > 0 && filtered.length === 0\" class=\"text-center py-20\">\r\n        <svg class=\"h-16 w-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path>\r\n        </svg>\r\n        <p class=\"text-gray-400 text-lg font-medium\">No reviews match \"{{ query }}\". Try a different search.</p>\r\n      </div>\r\n\r\n      <!-- Results Count -->\r\n      <div v-if=\"reviews.length > 0\" class=\"mt-10 text-center text-gray-400 text-sm\">\r\n        Showing {{ filtered.length }} of {{ reviews.length }} reviews\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport NavBar from '~/components/NavBar.vue'\r\n\r\nconst query = ref('')\r\nconst reviews = ref([])\r\nconst config = useRuntimeConfig()\r\n\r\nasync function load() {\r\n  try {\r\n    // Try to fetch from Strapi API\r\n    const res = await $fetch(`${config.public.strapiBase}/api/reviews?populate=*`)\r\n    \r\n    if (res && res.data && Array.isArray(res.data)) {\r\n      // Strapi v4 format: { data: [ { id, attributes } ] }\r\n      reviews.value = res.data.map((item) => {\r\n        const attrs = item.attributes || item\r\n        return {\r\n          id: item.id,\r\n          slug: attrs.slug,\r\n          title: attrs.title,\r\n          summary: attrs.summary,\r\n          body: attrs.body,\r\n          rating: attrs.rating,\r\n          coverImage: attrs.coverImage,\r\n          category: attrs.category,\r\n          author: attrs.author,\r\n          publishedAt: attrs.publishedAt\r\n        }\r\n      })\r\n    } else if (Array.isArray(res)) {\r\n      reviews.value = res\r\n    } else {\r\n      throw new Error('Invalid API response format')\r\n    }\r\n  } catch (err) {\r\n    console.warn('[Frontend] Strapi API unavailable, using fallback data:', err.message)\r\n    // Fallback to static sample data\r\n    try {\r\n      const fallback = await fetch('/sample-reviews.json').then((r) => r.json())\r\n      reviews.value = fallback\r\n    } catch (e) {\r\n      console.error('[Frontend] Failed to load fallback data:', e)\r\n    }\r\n  }\r\n}\r\n\r\nonMounted(load)\r\n\r\nconst filtered = computed(() => {\r\n  if (!query.value) return reviews.value\r\n  const q = query.value.toLowerCase()\r\n  return reviews.value.filter((r) => {\r\n    const titleMatch = (r.title || '').toLowerCase().includes(q)\r\n    const summaryMatch = (r.summary || '').toLowerCase().includes(q)\r\n    return titleMatch || summaryMatch\r\n  })\r\n})\r\n</script>\r\n"],"version":3}